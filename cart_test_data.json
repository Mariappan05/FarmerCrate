{
  "description": "Test data and example requests/responses for cart endpoints",
  "summary": "Adjust IDs and image URLs to match your local DB and media hosting. This file contains example DB rows for customers, products, and cart items, plus example HTTP requests for the cart API.",
  "db_rows": {
    "customer_users": [
      {
        "customer_id": 101,
        "name": "Test Customer",
        "email": "test.customer@example.com",
        "mobile_number": "9999999999",
        "address": "12 Test Lane, Test City",
        "password": "<hashed_password>",
        "image_url": "https://example.com/avatars/customer101.jpg",
        "created_at": "2025-10-12T00:00:00Z",
        "updated_at": "2025-10-12T00:00:00Z"
      }
    ],
    "farmers": [
      {
        "farmer_id": 201,
        "name": "Demo Farmer",
        "mobile_number": "9888888888",
        "email": "farmer@example.com",
        "address": "Farm Road",
        "image_url": "https://example.com/avatars/farmer201.jpg",
        "created_at": "2025-10-01T00:00:00Z",
        "updated_at": "2025-10-01T00:00:00Z"
      }
    ],
    "products": [
      {
        "product_id": 301,
        "name": "Fresh Tomatoes",
        "description": "Ripe red tomatoes, 1kg pack",
        "current_price": "120.00",
        "quantity": 50,
        "images": "https://example.com/products/tomato1.jpg,https://example.com/products/tomato2.jpg",
        "category": "vegetables",
        "status": "available",
        "farmer_id": 201,
        "created_at": "2025-10-05T00:00:00Z",
        "updated_at": "2025-10-05T00:00:00Z"
      },
      {
        "product_id": 302,
        "name": "Organic Potatoes",
        "description": "Loose potatoes, 2kg",
        "current_price": "80.00",
        "quantity": 100,
        "images": "https://example.com/products/potato1.jpg",
        "category": "vegetables",
        "status": "available",
        "farmer_id": 201,
        "created_at": "2025-10-06T00:00:00Z",
        "updated_at": "2025-10-06T00:00:00Z"
      }
    ],
    "carts": [
      {
        "cart_id": 401,
        "customer_id": 101,
        "product_id": 301,
        "quantity": 2,
        "created_at": "2025-10-12T01:00:00Z",
        "updated_at": "2025-10-12T01:00:00Z"
      }
    ]
  },
  "example_requests": {
    "add_to_cart": {
      "method": "POST",
      "endpoint": "/api/cart",
      "headers": {
        "Authorization": "Bearer <customer_jwt>",
        "Content-Type": "application/json"
      },
      "body": {
        "product_id": 302,
        "quantity": 3
      },
      "expected_success_response": {
        "success": true,
        "message": "Item added to cart successfully",
        "data": {
          "cart_id": "<generated>",
          "customer_id": 101,
          "product_id": 302,
          "quantity": 3
        }
      }
    },
    "get_cart": {
      "method": "GET",
      "endpoint": "/api/cart",
      "headers": {
        "Authorization": "Bearer <customer_jwt>"
      },
      "example_success_response": {
        "success": true,
        "data": [
          {
            "cart_id": 401,
            "customer_id": 101,
            "product_id": 301,
            "quantity": 2,
            "cart_product": {
              "product_id": 301,
              "name": "Fresh Tomatoes",
              "description": "Ripe red tomatoes, 1kg pack",
              "current_price": "120.00",
              "images": "https://example.com/products/tomato1.jpg,https://example.com/products/tomato2.jpg",
              "image_url": "https://example.com/products/tomato1.jpg",
              "farmer": {
                "name": "Demo Farmer",
                "mobile_number": "9888888888"
              }
            }
          }
        ]
      }
    },
    "update_cart_item": {
      "method": "PUT",
      "endpoint": "/api/cart/:id",
      "headers": { "Authorization": "Bearer <customer_jwt>", "Content-Type": "application/json" },
      "body": { "quantity": 5 },
      "expected_success_response": {
        "success": true,
        "message": "Cart item updated successfully",
        "data": {
          "cart_id": 401,
          "customer_id": 101,
          "product_id": 301,
          "quantity": 5
        }
      }
    },
    "remove_from_cart": {
      "method": "DELETE",
      "endpoint": "/api/cart/:id",
      "headers": { "Authorization": "Bearer <customer_jwt>" },
      "expected_success_response": {
        "success": true,
        "message": "Item removed from cart successfully"
      }
    },
    "clear_cart": {
      "method": "DELETE",
      "endpoint": "/api/cart/clear",
      "headers": { "Authorization": "Bearer <customer_jwt>" },
      "expected_success_response": {
        "success": true,
        "message": "Cart cleared successfully"
      }
    }
  },
  "how_to_use": "Insert the above rows into your local DB (MySQL/Postgres) or adapt to your seed scripts. Use the example requests with Postman or curl, replacing <customer_jwt> with a valid token for customer_id 101. If product image filenames are stored instead of full URLs, update 'images' fields to include the correct base URL.",
  "notes": [
    "The cart API was updated to include product 'images' and expose 'image_url' (first image) for frontend consumption.",
    "If you need multiple images as an array, change the product model storage or parsing logic accordingly."
  ]
}
